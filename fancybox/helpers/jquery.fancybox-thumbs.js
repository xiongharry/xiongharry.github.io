!function(e){var t=e.fancybox;t.helpers.thumbs={defaults:{width:50,height:50,position:"bottom",source:function(t){var i;return t.element&&(i=e(t.element).find("img").attr("src")),!i&&"image"===t.type&&t.href&&(i=t.href),i}},wrap:null,list:null,width:0,init:function(t,i){var n,a=this,o=t.width,r=t.height,l=t.source;n="";for(var s=0;s<i.group.length;s++)n+='<li><a style="width:'+o+"px;height:"+r+'px;" href="javascript:jQuery.fancybox.jumpto('+s+');"></a></li>';this.wrap=e('<div id="fancybox-thumbs"></div>').addClass(t.position).appendTo("body"),this.list=e("<ul>"+n+"</ul>").appendTo(this.wrap),e.each(i.group,function(t){var n=i.group[t],s=l(n);s&&e("<img />").load(function(){var i,n,l,s=this.width,c=this.height;a.list&&s&&c&&(i=s/o,n=c/r,l=a.list.children().eq(t).find("a"),i>=1&&n>=1&&(i>n?(s=Math.floor(s/n),c=r):(s=o,c=Math.floor(c/i))),e(this).css({width:s,height:c,top:Math.floor(r/2-c/2),left:Math.floor(o/2-s/2)}),l.width(o).height(r),e(this).hide().appendTo(l).fadeIn(300))}).attr("src",s).attr("title",n.title)}),this.width=this.list.children().eq(0).outerWidth(!0),this.list.width(this.width*(i.group.length+1)).css("left",Math.floor(.5*e(window).width()-(i.index*this.width+.5*this.width)))},beforeLoad:function(e,t){return t.group.length<2?(t.helpers.thumbs=!1,void 0):(t.margin["top"===e.position?0:2]+=e.height+15,void 0)},afterShow:function(e,t){this.list?this.onUpdate(e,t):this.init(e,t),this.list.children().removeClass("active").eq(t.index).addClass("active")},onUpdate:function(t,i){this.list&&this.list.stop(!0).animate({left:Math.floor(.5*e(window).width()-(i.index*this.width+.5*this.width))},150)},beforeClose:function(){this.wrap&&this.wrap.remove(),this.wrap=null,this.list=null,this.width=0}}}(jQuery);